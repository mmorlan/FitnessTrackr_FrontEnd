(this.webpackJsonpFitnessTrackr_FrontEnd=this.webpackJsonpFitnessTrackr_FrontEnd||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(30),a=n.n(c),i=n(3),s=n(9),o=n(5),u=n(0),l=function(e){return Object(u.jsx)("h1",{onClick:e.clickHandler,children:e.text})},j=function(e){var t=e.currentUser,n=e.setCurrentUser,c=function(){};return Object(r.useEffect)((function(){n(localStorage.getItem("currentUser"))}),[localStorage.getItem("currentUser")]),Object(u.jsxs)("div",{id:"navbar-div",children:[t?Object(u.jsx)(s.b,{to:"/Home",style:{textDecoration:"none"},children:Object(u.jsx)(l,{text:"Logout",clickHandler:function(){localStorage.clear(),n(""),console.log("clearing local storage")}})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(s.b,{to:"/Register",style:{textDecoration:"none"},children:Object(u.jsx)(l,{text:"Register",clickHandler:c})}),Object(u.jsx)(s.b,{to:"/Login",style:{textDecoration:"none"},children:Object(u.jsx)(l,{text:"Login",clickHandler:c})})]}),Object(u.jsx)(s.b,{to:"/Home",style:{textDecoration:"none"},children:Object(u.jsx)(l,{text:"Home",clickHandler:c})}),Object(u.jsx)(s.b,{to:"/Routines",style:{textDecoration:"none"},children:Object(u.jsx)(l,{text:"Routines",clickHandler:c})}),Object(u.jsx)(s.b,{to:"/Activities",style:{textDecoration:"none"},children:Object(u.jsx)(l,{text:"Activities",clickHandler:c})}),t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(s.b,{to:"/NewRoutine",style:{textDecoration:"none"},children:Object(u.jsx)(l,{text:"New Routine",clickHandler:c})}),Object(u.jsx)(s.b,{to:"/NewActivity",style:{textDecoration:"none"},children:Object(u.jsx)(l,{text:"New Activity",clickHandler:c})}),Object(u.jsx)(s.b,{to:"/MyRoutines",style:{textDecoration:"none"},children:Object(u.jsx)(l,{text:"My Routines",clickHandler:c})})]}):""]})},b=n(2),d=n.n(b),p=n(4),h=n(6),x=n.n(h),O=(n(28),function(e){var t=e.activity;return Object(u.jsxs)("li",{className:"activity",children:[Object(u.jsx)("h3",{children:t.name}),Object(u.jsx)("h3",{children:t.description})]})}),m=function(e){var t=e.routine,n=t.activities.map((function(e,t){return Object(u.jsx)(O,{activity:e},t)}));return Object(u.jsxs)("div",{className:"routine",children:[Object(u.jsx)("h1",{children:t.name}),Object(u.jsxs)("h2",{children:["Creator: ",t.creatorName]}),Object(u.jsxs)("h3",{children:["Goal: ",t.goal]}),Object(u.jsx)("ul",{children:n})]})};function f(){return v.apply(this,arguments)}function v(){return(v=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://fitnesstrac-kr.herokuapp.com/api/routines");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){var t=e.routines,n=e.setRoutines,c=Object(r.useState)(0),a=Object(i.a)(c,2),s=a[0],o=a[1];Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,console.log("data in routines...",t),n(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=t.slice(0+10*s,10*s+10).map((function(e,t){return Object(u.jsx)(m,{routine:e},t)}));return Object(u.jsxs)("div",{className:"routines",children:[l,Object(u.jsx)("button",{onClick:function(){return o(s+1)},children:"Next 10"})]})};n(61);function y(){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://fitnesstrac-kr.herokuapp.com/api/activities");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){var t=e.activity;return Object(u.jsxs)("div",{className:"activity",children:[Object(u.jsx)("h1",{children:t.name}),Object(u.jsxs)("h2",{children:["Description: ",t.description]})]})},N=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(0),s=Object(i.a)(a,2),o=s[0],l=s[1];Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var j=n.slice(0+10*o,10*o+10).map((function(e,t){return Object(u.jsx)(k,{activity:e},t)}));return Object(u.jsxs)("div",{className:"activities",children:[j,Object(u.jsx)("button",{onClick:function(){return l(o+1)},children:"Next 10"})]})},S="http://fitnesstrac-kr.herokuapp.com/api",U=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(i.a)(a,2),o=s[0],l=s[1],j=Object(r.useState)(""),b=Object(i.a)(j,2),h=b[0],O=b[1],m=Object(r.useState)(""),f=Object(i.a)(m,2),v=f[0],g=f[1],y=Object(r.useState)(""),w=Object(i.a)(y,2),k=w[0],N=w[1];function U(){return(U=Object(p.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:n,password:o},e.prev=1,e.next=4,x.a.post(S+"/users/register",t);case 4:r=e.sent.data,console.log(r),localStorage.setItem("currentUserToken",r.token),localStorage.setItem("currentUser",n),O(t.username),g("You are currently logged in as "+h),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),console.log("invalid entry"),N("Invalid username and password combination. Please try again.");case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return Object(u.jsx)("div",{id:"registration-form",children:h?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h1",{children:v})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Please enter your new username and password"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){U.apply(this,arguments)}()},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"username-input"}),Object(u.jsx)("input",{type:"text",id:"username-input",name:"username-input",placeholder:"Username",onChange:function(e){c(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password-input"}),Object(u.jsx)("input",{id:"password-input",name:"password-input",placeholder:"Password",onChange:function(e){l(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",children:"Submit"})]}),Object(u.jsx)("h1",{children:k})]})})};function C(){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://fitnesstrac-kr.herokuapp.com/api/routines");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(0),s=Object(i.a)(a,2),o=s[0],l=s[1];Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var j=n.slice(0+10*o,10*o+10).map((function(e,t){return Object(u.jsx)(m,{routine:e},t)}));return Object(u.jsxs)("div",{className:"routines",children:[j,Object(u.jsx)("button",{onClick:function(){return l(o+1)},children:"Next 10"})]})},I="http://fitnesstrac-kr.herokuapp.com/api",D=function(e){var t=e.currentUser,n=e.setCurrentUser,c=Object(r.useState)(""),a=Object(i.a)(c,2),s=a[0],o=a[1],l=Object(r.useState)(""),j=Object(i.a)(l,2),b=j[0],h=j[1],O=Object(r.useState)(""),m=Object(i.a)(O,2),f=m[0],v=m[1];function g(){return(g=Object(p.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:s,password:b},e.prev=1,e.next=4,x.a.post(I+"/users/login",t);case 4:r=e.sent.data,localStorage.setItem("currentUserToken",r.token),console.log(r),console.log(r.user.username),console.log("updating with",r.user.username),n(r.user.username),localStorage.setItem("currentUser",r.user.username),v("You are now logged in as "+r.user.username),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),v("Sorry, we do not recognize that username and password combination");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}return Object(u.jsx)("div",{id:"login-form",children:t?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{children:f})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Please enter your  username and password"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"username-input"}),Object(u.jsx)("input",{type:"text",id:"username-input",name:"username-input",placeholder:"Username",onChange:function(e){o(e.target.value),console.log(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password-input"}),Object(u.jsx)("input",{id:"password-input",name:"password-input",placeholder:"Password",onChange:function(e){h(e.target.value),console.log(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",onClick:function(){!function(){g.apply(this,arguments)}()},children:"Submit"}),Object(u.jsx)("p",{children:f})]})})},A=(n(29),"http://fitnesstrac-kr.herokuapp.com/api"),E=function(e){var t=e.currentUser,n=e.routines,r=e.setRoutines;if(""===t)return Object(u.jsx)("h1",{children:"Please login."});var c=localStorage.getItem("currentUserToken");function a(){return(a=Object(p.a)(d.a.mark((function e(){var t,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:document.getElementById("new-routine-name").value,goal:document.getElementById("new-routine-goal").value,isPublic:document.getElementById("new-routine-public").checked},console.log(t),e.prev=2,e.next=5,x.a.post(A+"/routines",t,{headers:{Authorization:"Bearer "+c}});case 5:a=e.sent.data,console.log("here...",a),i=n.concat([a]),console.log("updatedroutines: ",i),r(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{id:"new-routine",children:[Object(u.jsx)("h1",{children:"Create New Routine"}),Object(u.jsxs)("form",{id:"new-routine-form",onSubmit:function(e){e.preventDefault(),function(){a.apply(this,arguments)}()},children:[Object(u.jsxs)("div",{id:"routine-name",children:[Object(u.jsx)("label",{htmlFor:"new-routine-name",children:"New Routine Name"}),Object(u.jsx)("input",{type:"text",name:"new-routine-name",id:"new-routine-name"})]}),Object(u.jsxs)("div",{id:"routine-goal",children:[Object(u.jsx)("label",{htmlFor:"new-routine-goal",children:"Goal"}),Object(u.jsx)("textarea",{name:"new-routine-goal",id:"new-routine-goal"})]}),Object(u.jsxs)("div",{id:"routine-public",children:[Object(u.jsx)("label",{htmlFor:"new-routine-public",children:"Check to make this a Public Routine"}),Object(u.jsx)("input",{type:"checkbox",name:"new-routine-public",id:"new-routine-public",value:"public"})]}),Object(u.jsx)("input",{type:"submit",id:"submit-button"})]})]})},P="http://fitnesstrac-kr.herokuapp.com/api",H=function(e){if(""===e.currentUser)return Object(u.jsx)("h1",{children:"Please login."});var t=localStorage.getItem("currentUserToken");function n(){return(n=Object(p.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:document.getElementById("new-activity-name").value,description:document.getElementById("new-activity-description").value},console.log(n),e.prev=2,e.next=5,x.a.post(P+"/activities",n,{headers:{Authorization:"Bearer "+t}});case 5:r=e.sent.data,console.log(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{id:"new-activity",children:[Object(u.jsx)("h1",{children:"Create New Activity"}),Object(u.jsxs)("form",{id:"new-activity-form",onSubmit:function(e){e.preventDefault(),function(){n.apply(this,arguments)}()},children:[Object(u.jsxs)("div",{id:"activity-name",children:[Object(u.jsx)("label",{htmlFor:"new-activity-name",children:"New Activity Name"}),Object(u.jsx)("input",{type:"text",name:"new-activity-name",id:"new-activity-name",placeholder:"New Activity Name"})]}),Object(u.jsxs)("div",{id:"activity-description",children:[Object(u.jsx)("label",{htmlFor:"new-activity-description",children:"Activity Description"}),Object(u.jsx)("textarea",{name:"new-activity-description",id:"new-activity-description",placeholder:"Description"})]}),Object(u.jsx)("input",{type:"submit",id:"submit-button"})]})]})},B=(n(62),n(63),"http://fitnesstrac-kr.herokuapp.com/api"),T=function(e){var t=e.id,n=e.creator,c=e.publicStatus,a=e.name,s=e.goal,o=e.onDeleteCallback,l=Object(r.useState)(!1),j=Object(i.a)(l,2),b=j[0],h=j[1],O=localStorage.getItem("currentUserToken");function m(){return(m=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete(B+"/routines/"+t,{headers:{Authorization:"Bearer "+O}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f="",v="",g=!1,y={};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"user-routine",children:Object(u.jsx)("div",{className:"routine-labels",children:b?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"routine-title",children:[Object(u.jsx)("label",{htmlFor:"new-routine-title",children:"New Routine Name"}),Object(u.jsx)("input",{type:"text",name:"new-routine-name",id:"input-routine-name",onChange:function(e){f=e.target.value}})]}),Object(u.jsxs)("div",{id:"routine-goal",children:[Object(u.jsx)("label",{htmlFor:"new-routine-goal",children:"New Goal"}),Object(u.jsx)("input",{type:"text",name:"new-routine-goal",id:"input-routine-goal",onChange:function(e){v=e.target.value}})]}),Object(u.jsxs)("div",{id:"privacy-box",children:[Object(u.jsx)("label",{htmlFor:"new-routine-privacy",children:"Want to make this routine public?"}),Object(u.jsx)("input",{type:"checkbox",name:"new-routine-privacy",id:"input-routine-privacy",value:"Public",onChange:function(e){g=e.target.checked}})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"routine-name",children:a}),Object(u.jsx)("div",{className:"routine-goal",children:s}),Object(u.jsx)("div",{className:"routine-creator",children:n}),Object(u.jsx)("div",{className:"routine-public-status",children:c?"Public":"This routine is currently private"})]})})}),Object(u.jsx)("div",{className:"routine-buttons",children:localStorage.getItem("currentUser")?Object(u.jsx)(u.Fragment,{children:localStorage.getItem("currentUser")===n?Object(u.jsxs)(u.Fragment,{children:[b?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"edit-routine-button",onClick:function(){!function(e){y={name:f,goal:v,isPublic:g};var t=B+"/routines/"+e;console.log({requestUrl:t}),x.a.patch(t,y,{headers:{Authorization:"Bearer "+localStorage.getItem("currentUserToken")}}),h(!1)}(t)},children:"Save Changes"}),Object(u.jsx)("button",{className:"edit-routine-button",onClick:function(){h(!1)},children:"Cancel Changes"})]}):Object(u.jsx)("button",{className:"edit-routine-button",onClick:function(){h(!0)},children:"Edit Routine"}),Object(u.jsx)("button",{className:"delete-routine-button",onClick:function(){!function(e){m.apply(this,arguments)}(t),o()},children:"Delete Routine"})]}):""}):""})]})},z="http://fitnesstrac-kr.herokuapp.com/api";function L(e){return G.apply(this,arguments)}function G(){return(G=Object(p.a)(d.a.mark((function e(t){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z+"/users/"+t+"/routines",e.next=3,x.a.get(n);case 3:return r=e.sent,c=r.data,console.log(t),console.log(c),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){var t=e.currentUser,n=Object(r.useState)([]),c=Object(i.a)(n,2),a=c[0],s=c[1];if(""===t)return Object(u.jsx)("h1",{children:"Please login."});Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:n=e.sent,console.log(n),s(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var o=a.filter((function(e){return function(e,t){return!!e.creatorName.includes(t)&&(console.log(e.creatorName),!0)}(e,localStorage.getItem("currentUser"))}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Your Routines"}),o.map((function(e){return Object(u.jsx)(T,{id:e.id,creator:e.creatorName,name:e.name,goal:e.goal,publicStatus:e.isPublic,currentUser:t,onDeleteCallback:Object(p.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(){return(r=Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:n=e.sent,console.log(n),s(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return r.apply(this,arguments)},console.log("routine was deleted"),n();case 4:case"end":return e.stop()}}),e)})))},e.id)}))]})},Y=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),l=Object(i.a)(a,2),b=l[0],d=l[1],p=Object(r.useState)([]),h=Object(i.a)(p,2),x=h[0],O=h[1];return console.log("current user in app root",n),Object(u.jsx)("div",{id:"app",children:Object(u.jsxs)(s.a,{children:[Object(u.jsx)("header",{children:Object(u.jsxs)("div",{id:"navs",children:[Object(u.jsx)("div",{className:"title",children:"Track . Fit"}),Object(u.jsx)("a",{className:"hamburger",onClick:function(){return d(!b)},children:Object(u.jsx)("i",{className:"material-icons",children:"menu"})})]})}),Object(u.jsxs)("main",{children:[Object(u.jsx)("section",{id:"lefty"}),Object(u.jsxs)("section",{id:"content-main",children:[Object(u.jsx)(o.a,{exact:!0,path:"/Routines",render:function(){return Object(u.jsx)(R,{currentUser:n})}}),Object(u.jsx)(o.a,{exact:!0,path:"/Register",render:function(){return Object(u.jsx)(U,{currentUser:n,setCurrentUser:c})}}),Object(u.jsx)(o.a,{exact:!0,path:"/Routines",render:function(){return Object(u.jsx)(g,{routines:x,setRoutines:O})}}),Object(u.jsx)(o.a,{exact:!0,path:"/Activities",render:function(){return Object(u.jsx)(N,{activities:activities,setActivities:setActivities})}}),Object(u.jsx)(o.a,{exact:!0,path:"/Login",render:function(){return Object(u.jsx)(D,{currentUser:n,setCurrentUser:c})}}),Object(u.jsx)(o.a,{exact:!0,path:"/NewRoutine",render:function(){return Object(u.jsx)(E,{currentUser:n,routines:x,setRoutines:O})}}),Object(u.jsx)(o.a,{exact:!0,path:"/NewActivity",render:function(){return Object(u.jsx)(H,{currentUser:n})}}),Object(u.jsx)(o.a,{exact:!0,path:"/MyRoutines",render:function(){return Object(u.jsx)(M,{currentUser:n})}})]}),Object(u.jsx)("section",{id:"sidenav",children:b?Object(u.jsx)(j,{currentUser:n,setCurrentUser:c}):""})]})]})})};a.a.render(Object(u.jsx)(Y,{}),document.getElementById("app"))}},[[64,1,2]]]);
//# sourceMappingURL=main.851512e4.chunk.js.map