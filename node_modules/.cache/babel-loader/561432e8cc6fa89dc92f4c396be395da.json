{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Login = ({\n  currentUser,\n  setCurrentUserState\n}) => {\n  _s();\n\n  let [inputUsername, setInputUsername] = useState('');\n  let [inputPassword, setInputPassword] = useState('');\n  let [loginMessage, setLoginMessage] = useState('');\n  useEffect(() => {\n    loginMessage = \"You are now logged in as \" + currentUser;\n  }, [currentUser]);\n\n  async function login() {\n    let inputUser = {\n      user: {\n        username: inputUsername,\n        password: inputPassword\n      }\n    };\n\n    try {\n      let response = (await axios.post(BASE_URL + '/users/login', inputUser)).data;\n      localStorage.setItem('currentUserToken', response.data.token);\n      let currentUser = inputUser.user.username;\n      setCurrentUserState(currentUser);\n      localStorage.setItem('currentUser', currentUser);\n      setLoginMessage(\"You are now logged in as \" + currentUser);\n    } catch (error) {\n      setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please enter your  username and password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"username-input\",\n        name: \"username-input\",\n        placeholder: \"Username\",\n        onChange: event => {\n          setInputUsername(event.target.value);\n          console.log(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        // type=\"password\" \n        id: \"password-input\",\n        name: \"password-input\",\n        placeholder: \"Password\",\n        onChange: event => {\n          setInputPassword(event.target.value);\n          console.log(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => {\n        login();\n      },\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"login-message\",\n      children: loginMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"YB99W08ZxvazYxEDjf7tuHTUwIk=\");\n\n_c = Login;\nexport default Login;\n/*  <input \n      placeholder='Enter a todo' \n      value={Todo}\n      onChange={(event) => {\n          let value = event.target.value\n          setTodo(value)\n      }}/>\n    <button type='submit'>Submit</button>*/\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Login.js"],"names":["React","useState","useEffect","axios","BASE_URL","Login","currentUser","setCurrentUserState","inputUsername","setInputUsername","inputPassword","setInputPassword","loginMessage","setLoginMessage","login","inputUser","user","username","password","response","post","data","localStorage","setItem","token","error","event","target","value","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAGA,MAAMC,QAAQ,GAAG,yCAAjB;;AAEA,MAAMC,KAAK,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAcC,EAAAA;AAAd,CAAD,KAAwC;AAAA;;AAClD,MAAI,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCR,QAAQ,CAAC,EAAD,CAAhD;AACA,MAAI,CAACS,aAAD,EAAgBC,gBAAhB,IAAoCV,QAAQ,CAAC,EAAD,CAAhD;AAEA,MAAI,CAACW,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,EAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAE,MAAK;AACZU,IAAAA,YAAY,GAAC,8BAA8BN,WAA3C;AAEH,GAHQ,EAGN,CAACA,WAAD,CAHM,CAAT;;AAKA,iBAAeQ,KAAf,GAAwB;AACpB,QAAIC,SAAS,GAAG;AAACC,MAAAA,IAAI,EAAE;AAACC,QAAAA,QAAQ,EAAET,aAAX;AAA0BU,QAAAA,QAAQ,EAAER;AAApC;AAAP,KAAhB;;AAEA,QAAI;AACA,UAAIS,QAAQ,GAAG,CAAC,MAAMhB,KAAK,CAACiB,IAAN,CAAWhB,QAAQ,GAAC,cAApB,EAAoCW,SAApC,CAAP,EAAuDM,IAAtE;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCJ,QAAQ,CAACE,IAAT,CAAcG,KAAvD;AAEA,UAAIlB,WAAW,GAAGS,SAAS,CAACC,IAAV,CAAeC,QAAjC;AACAV,MAAAA,mBAAmB,CAACD,WAAD,CAAnB;AAEAgB,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCjB,WAApC;AACAO,MAAAA,eAAe,CAAC,8BAA8BP,WAA/B,CAAf;AAEH,KAVD,CAUE,OAAOmB,KAAP,EAAc;AACZZ,MAAAA,eAAe,CAAC,mEAAD,CAAf;AACH;AACJ;;AAED,sBACI;AAAA,4BACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADI,eAEI;AAAA,8BACI;AAAO,QAAA,OAAO,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,EAAE,EAAC,gBAFP;AAGI,QAAA,IAAI,EAAC,gBAHT;AAII,QAAA,WAAW,EAAC,UAJhB;AAKI,QAAA,QAAQ,EAAGa,KAAD,IAAW;AACjBjB,UAAAA,gBAAgB,CAACiB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACC,MAAN,CAAaC,KAAzB;AACH;AARL;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAeI;AAAA,8BACI;AAAO,QAAA,OAAO,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AACI;AACA,QAAA,EAAE,EAAC,gBAFP;AAGI,QAAA,IAAI,EAAC,gBAHT;AAII,QAAA,WAAW,EAAC,UAJhB;AAKI,QAAA,QAAQ,EAAGF,KAAD,IAAU;AAChBf,UAAAA,gBAAgB,CAACe,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACC,MAAN,CAAaC,KAAzB;AAEH;AATL;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAfJ,eA6BI;AAAQ,MAAA,IAAI,EAAC,QAAb;AACA,MAAA,OAAO,EAAE,MAAM;AACXd,QAAAA,KAAK;AACR,OAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA7BJ,eAiCA;AAAK,MAAA,EAAE,EAAC,eAAR;AAAA,gBAAyBF;AAAzB;AAAA;AAAA;AAAA;AAAA,YAjCA;AAAA,kBADJ;AAqCH,CAlED;;GAAMP,K;;KAAAA,K;AAoEN,eAAeA,KAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\n\n\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Login = ({currentUser, setCurrentUserState}) => {\n    let [inputUsername, setInputUsername] = useState('');\n    let [inputPassword, setInputPassword] = useState('');\n    \n    let [loginMessage, setLoginMessage] = useState('');\n\n    useEffect (() =>{\n        loginMessage=\"You are now logged in as \" + currentUser;\n\n    }, [currentUser])\n\n    async function login () {\n        let inputUser = {user: {username: inputUsername, password: inputPassword}}\n\n        try {\n            let response = (await axios.post(BASE_URL+'/users/login', inputUser)).data;\n            localStorage.setItem('currentUserToken', response.data.token)\n\n            let currentUser = inputUser.user.username;\n            setCurrentUserState(currentUser)\n\n            localStorage.setItem('currentUser', currentUser);\n            setLoginMessage(\"You are now logged in as \" + currentUser)\n\n        } catch (error) {\n            setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n        }\n    }\n\n    return(\n        <>\n    <h1>Please enter your  username and password</h1>\n            <div>\n                <label htmlFor=\"username-input\"></label>\n                <input \n                    type=\"text\" \n                    id=\"username-input\"\n                    name=\"username-input\" \n                    placeholder=\"Username\"\n                    onChange={(event) => {\n                        setInputUsername(event.target.value);\n                        console.log(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <div>\n                <label htmlFor=\"password-input\"></label>\n                <input \n                    // type=\"password\" \n                    id=\"password-input\"\n                    name=\"password-input\" \n                    placeholder=\"Password\"\n                    onChange={(event) =>{\n                        setInputPassword(event.target.value);\n                        console.log(event.target.value);\n                        \n                    }}\n                    ></input>\n            </div>\n            <button type='submit'\n            onClick={() => {\n                login();\n            }}>Submit</button>\n        <div id=\"login-message\">{loginMessage}</div>\n        </>\n    )\n}\n\nexport default Login\n\n/*  <input \n      placeholder='Enter a todo' \n      value={Todo}\n      onChange={(event) => {\n          let value = event.target.value\n          setTodo(value)\n      }}/>\n    <button type='submit'>Submit</button>*/"]},"metadata":{},"sourceType":"module"}