{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Register = () => {\n  _s();\n\n  let [newUsername, setNewUsername] = useState('');\n  let [newPassword, setNewPassword] = useState('');\n  let [currentUser, setCurrentUser] = useState('');\n  let [message, setMessage] = useState('');\n\n  async function register() {\n    let newUser = {\n      username: newUsername,\n      password: newPassword\n    };\n\n    try {\n      let response = (await axios.post(BASE_URL + '/users/register', newUser)).data;\n      console.log(response);\n      localStorage.setItem('currentUserToken', response.token);\n      localStorage.setItem('currentUser', newUsername);\n      setCurrentUser(newUser.username);\n    } catch (error) {\n      console.error(error);\n      setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !currentUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Please enter your new username and password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => {\n          event.preventDefault();\n          register();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"username-input\",\n            name: \"username-input\",\n            placeholder: \"Username\",\n            onChange: event => {\n              setNewUsername(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            // type=\"password\" \n            id: \"password-input\",\n            name: \"password-input\",\n            placeholder: \"Password\",\n            onChange: event => {\n              setNewPassword(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"You are currently logged in as \", currentUser]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Register, \"QWdaDPgT5fQz2KV8eSO7n2oeZ4M=\");\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Register.js"],"names":["React","useState","axios","BASE_URL","Register","newUsername","setNewUsername","newPassword","setNewPassword","currentUser","setCurrentUser","message","setMessage","register","newUser","username","password","response","post","data","console","log","localStorage","setItem","token","error","setLoginMessage","event","preventDefault","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,QAAQ,GAAG,yCAAjB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACnB,MAAI,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,EAAD,CAA5C;AACA,MAAI,CAACM,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,EAAD,CAA5C;AACA,MAAI,CAACQ,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,EAAD,CAA5C;AACA,MAAI,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAApC;;AAEA,iBAAeY,QAAf,GAA0B;AACtB,QAAIC,OAAO,GAAG;AAACC,MAAAA,QAAQ,EAAEV,WAAX;AAAwBW,MAAAA,QAAQ,EAAET;AAAlC,KAAd;;AAEA,QAAI;AACA,UAAIU,QAAQ,GAAG,CAAC,MAAMf,KAAK,CAACgB,IAAN,CAAWf,QAAQ,GAAC,iBAApB,EAAuCW,OAAvC,CAAP,EAAwDK,IAAvE;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCN,QAAQ,CAACO,KAAlD;AAEAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoClB,WAApC;AACAK,MAAAA,cAAc,CAACI,OAAO,CAACC,QAAT,CAAd;AAEH,KARD,CAQE,OAAOU,KAAP,EAAc;AACZL,MAAAA,OAAO,CAACK,KAAR,CAAcA,KAAd;AACAC,MAAAA,eAAe,CAAC,mEAAD,CAAf;AAEH;AAEJ;;AAED,sBACI;AAAA,cACM,CAACjB,WAAD,gBACF;AAAA,8BACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADQ,eAER;AAAM,QAAA,QAAQ,EAAGkB,KAAD,IAAW;AACnBA,UAAAA,KAAK,CAACC,cAAN;AACAf,UAAAA,QAAQ;AAEX,SAJL;AAAA,gCAKQ;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACI,YAAA,IAAI,EAAC,MADT;AAEI,YAAA,EAAE,EAAC,gBAFP;AAGI,YAAA,IAAI,EAAC,gBAHT;AAII,YAAA,WAAW,EAAC,UAJhB;AAKI,YAAA,QAAQ,EAAGc,KAAD,IAAW;AACjBrB,cAAAA,cAAc,CAACqB,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAd;AACH;AAPL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALR,eAiBQ;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACI;AACA,YAAA,EAAE,EAAC,gBAFP;AAGI,YAAA,IAAI,EAAC,gBAHT;AAII,YAAA,WAAW,EAAC,UAJhB;AAKI,YAAA,QAAQ,EAAGH,KAAD,IAAW;AACjBnB,cAAAA,cAAc,CAACmB,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAd;AACH;AAPL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBR,eA6BQ;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7BR;AAAA;AAAA;AAAA;AAAA;AAAA,cAFQ;AAAA,oBADE,gBAkCA;AAAA,6BAAE;AAAA,sDAAoCrB,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAF;AAnCN;AAAA;AAAA;AAAA;AAAA,UADJ;AAuCH,CAhED;;GAAML,Q;;KAAAA,Q;AAkEN,eAAeA,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Register = () => {\n    let [newUsername, setNewUsername] = useState('')\n    let [newPassword, setNewPassword] = useState('')\n    let [currentUser, setCurrentUser] = useState('');\n    let [message, setMessage] = useState('');\n\n    async function register() {\n        let newUser = {username: newUsername, password: newPassword}\n\n        try {\n            let response = (await axios.post(BASE_URL+'/users/register', newUser)).data;\n            console.log(response)\n            localStorage.setItem('currentUserToken', response.token)\n    \n            localStorage.setItem('currentUser', newUsername)\n            setCurrentUser(newUser.username);\n         \n        } catch (error) {\n            console.error(error);\n            setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n\n        }\n\n    }\n\n    return(\n        <div>\n            { !currentUser ? \n            <>\n    <h1>Please enter your new username and password</h1>\n    <form onSubmit={(event) => {\n            event.preventDefault();\n            register()\n            \n        }}>  \n            <div>\n                <label htmlFor=\"username-input\"></label>\n                <input \n                    type=\"text\" \n                    id=\"username-input\"\n                    name=\"username-input\" \n                    placeholder=\"Username\"\n                    onChange={(event) => {\n                        setNewUsername(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <div>\n                <label htmlFor=\"password-input\"></label>\n                <input \n                    // type=\"password\" \n                    id=\"password-input\"\n                    name=\"password-input\" \n                    placeholder=\"Password\"\n                    onChange={(event) => {\n                        setNewPassword(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <button type='submit'>Submit</button>\n        </form>\n        </> : <><h1>You are currently logged in as {currentUser}</h1></> }\n        </div>\n    )\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}