{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/MyRoutines.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './myroutines.css';\nimport axios from 'axios';\nimport UserRoutine from './UserRoutine';\nimport Routine from './Routine';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nasync function getRoutines() {\n  let {\n    data\n  } = await axios.get(BASE_URL + '/routines');\n  return data;\n}\n\nconst MyRoutines = ({\n  currentUser\n}) => {\n  _s();\n\n  const [routines, setRoutines] = useState([]);\n  const [page, setPage] = useState(0); // load 10 per page\n\n  if (currentUser === '') {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please login.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 17\n    }, this);\n  }\n\n  useEffect(() => {\n    // async function required for awaiting the routes\n    async function getAllRoutines() {\n      let data = await getRoutines();\n      console.log(data);\n      setRoutines(data); // when we have the data, set it in our components variable\n    } // call the inner function once to start the process\n\n\n    getAllRoutines(); // console.log('USE EFFECT RUNS ONCE')\n  }, []);\n  debugger;\n\n  const routineMatches = function (routine) {\n    if (routine.creatorName === localStorage.getItem('currentUser')) {\n      console.log(routine.creatorName);\n      return /*#__PURE__*/_jsxDEV(UserRoutine, {\n        id: routine.id,\n        creatorName: routine.creatorName,\n        name: routine.name,\n        goal: routine.goal,\n        publicStatus: routine.isPublic,\n        currentUser: currentUser\n      }, routine.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 24\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"You have no routines. Please visit New Routine to get started.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 24\n      }, this);\n    }\n  };\n\n  const filteredRoutines = routines.filter(routine => routineMatches(routine));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: filteredRoutines.map(routine => {\n      return /*#__PURE__*/_jsxDEV(UserRoutine, {\n        id: routine.id,\n        creator: routine.creatorName,\n        name: routine.name,\n        goal: routine.goal,\n        publicStatus: routine.isPublic,\n        currentUser: currentUser\n      }, routine.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 16\n      }, this);\n    })\n  }, void 0, false);\n};\n\n_s(MyRoutines, \"4ZCUS/4pc33I23F0bNbzG1EZYNM=\");\n\n_c = MyRoutines;\nexport default MyRoutines;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyRoutines\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/MyRoutines.js"],"names":["React","useState","useEffect","axios","UserRoutine","Routine","BASE_URL","getRoutines","data","get","MyRoutines","currentUser","routines","setRoutines","page","setPage","getAllRoutines","console","log","routineMatches","routine","creatorName","localStorage","getItem","id","name","goal","isPublic","filteredRoutines","filter","map"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAO,kBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAOC,OAAP,MAAoB,WAApB;;;AAEA,MAAMC,QAAQ,GAAG,yCAAjB;;AAEA,eAAeC,WAAf,GAA6B;AACzB,MAAI;AAACC,IAAAA;AAAD,MAAS,MAAML,KAAK,CAACM,GAAN,CAAUH,QAAQ,GAAG,WAArB,CAAnB;AACA,SAAOE,IAAP;AACH;;AAED,MAAME,UAAU,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmB;AAAA;;AAElC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,CAAD,CAAhC,CAHkC,CAGE;;AAEpC,MAAIU,WAAW,KAAK,EAApB,EAAwB;AACpB,wBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR;AACC;;AAGLT,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA,mBAAec,cAAf,GAAgC;AAC9B,UAAIR,IAAI,GAAG,MAAMD,WAAW,EAA5B;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AACAK,MAAAA,WAAW,CAACL,IAAD,CAAX,CAH8B,CAGZ;AACnB,KANW,CAQZ;;;AACAQ,IAAAA,cAAc,GATF,CAWZ;AACD,GAZM,EAYJ,EAZI,CAAT;AAaE;;AACF,QAAMG,cAAc,GAAG,UAASC,OAAT,EAAkB;AACrC,QAAIA,OAAO,CAACC,WAAR,KAAwBC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAA5B,EAAgE;AAC5DN,MAAAA,OAAO,CAACC,GAAR,CAAYE,OAAO,CAACC,WAApB;AACI,0BAAO,QAAC,WAAD;AACP,QAAA,EAAE,EAAED,OAAO,CAACI,EADL;AAGP,QAAA,WAAW,EAAEJ,OAAO,CAACC,WAHd;AAIP,QAAA,IAAI,EAAED,OAAO,CAACK,IAJP;AAKP,QAAA,IAAI,EAAEL,OAAO,CAACM,IALP;AAMP,QAAA,YAAY,EAAEN,OAAO,CAACO,QANf;AAOP,QAAA,WAAW,EAAEhB;AAPN,SAEFS,OAAO,CAACI,EAFN;AAAA;AAAA;AAAA;AAAA,cAAP;AASH,KAXL,MAWW;AACH,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;AACR,GAfD;;AAiBA,QAAMI,gBAAgB,GAAGhB,QAAQ,CAACiB,MAAT,CAAgBT,OAAO,IAAID,cAAc,CAACC,OAAD,CAAzC,CAAzB;AAEA,sBAAO;AAAA,cACNQ,gBAAgB,CAACE,GAAjB,CAAuBV,OAAD,IAAa;AAChC,0BAAO,QAAC,WAAD;AACH,QAAA,EAAE,EAAEA,OAAO,CAACI,EADT;AAGH,QAAA,OAAO,EAAEJ,OAAO,CAACC,WAHd;AAIH,QAAA,IAAI,EAAED,OAAO,CAACK,IAJX;AAKH,QAAA,IAAI,EAAEL,OAAO,CAACM,IALX;AAMH,QAAA,YAAY,EAAEN,OAAO,CAACO,QANnB;AAOH,QAAA,WAAW,EAAEhB;AAPV,SAEES,OAAO,CAACI,EAFV;AAAA;AAAA;AAAA;AAAA,cAAP;AAQG,KATN;AADM,mBAAP;AAcH,CAzDD;;GAAMd,U;;KAAAA,U;AA2DN,eAAeA,UAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport './myroutines.css';\nimport axios from 'axios';\nimport UserRoutine from './UserRoutine';\n\nimport Routine from './Routine'\n\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nasync function getRoutines() {\n    let {data} = await axios.get(BASE_URL + '/routines')\n    return data;\n}\n\nconst MyRoutines = ({currentUser}) => {\n    \n    const [routines, setRoutines] = useState([]);\n    const [page, setPage] = useState(0) // load 10 per page\n\n    if (currentUser === '') {\n        return (<h1>Please login.</h1>)\n        } \n\n\n    useEffect(() => {\n        // async function required for awaiting the routes\n        async function getAllRoutines() {\n          let data = await getRoutines()\n          console.log(data)\n          setRoutines(data) // when we have the data, set it in our components variable\n        }\n    \n        // call the inner function once to start the process\n        getAllRoutines()\n    \n        // console.log('USE EFFECT RUNS ONCE')\n      }, [])\n      debugger;\n    const routineMatches = function(routine) {\n        if (routine.creatorName === localStorage.getItem('currentUser')){\n            console.log(routine.creatorName)\n                return <UserRoutine\n                id={routine.id}\n                key={routine.id}\n                creatorName={routine.creatorName}\n                name={routine.name}\n                goal={routine.goal}\n                publicStatus={routine.isPublic}\n                currentUser={currentUser}\n            />\n            } else {\n                return <h1>You have no routines. Please visit New Routine to get started.</h1>\n            }\n    }\n\n    const filteredRoutines = routines.filter(routine => routineMatches(routine));\n\n    return <>\n    {filteredRoutines.map( (routine) => {\n        return <UserRoutine\n            id={routine.id}\n            key={routine.id}\n            creator={routine.creatorName}\n            name={routine.name}\n            goal={routine.goal}\n            publicStatus={routine.isPublic}\n            currentUser={currentUser}\n        />})\n    }\n</>\n    \n}\n\nexport default MyRoutines;"]},"metadata":{},"sourceType":"module"}