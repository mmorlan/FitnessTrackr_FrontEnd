{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Login = ({\n  currentUser,\n  setCurrentUser\n}) => {\n  _s();\n\n  let [inputUsername, setInputUsername] = useState('');\n  let [inputPassword, setInputPassword] = useState('');\n  let [loginMessage, setLoginMessage] = useState('');\n  useEffect(() => {\n    loginMessage = \"You are now logged in as \" + currentUser;\n  }, [currentUser]);\n\n  async function login() {\n    let inputUser = {\n      username: inputUsername,\n      password: inputPassword\n    };\n\n    try {\n      let response = (await axios.post(BASE_URL + '/users/login', inputUser)).data;\n      console.log(response);\n      localStorage.setItem('currentUserToken', response.token);\n\n      if (response.success) {\n        setCurrentUser(inputUser.username);\n      } else {\n        localStorage.setItem('currentUser', currentUser);\n        setLoginMessage(\"You are now logged in as \" + currentUser);\n      } // currentUser = inputUser.username;\n      // setCurrentUser(currentUser)\n      // localStorage.setItem('currentUser', currentUser);\n      // setLoginMessage(\"You are now logged in as \" + currentUser)\n\n    } catch (error) {\n      setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please enter your  username and password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"username-input\",\n        name: \"username-input\",\n        placeholder: \"Username\",\n        onChange: event => {\n          setInputUsername(event.target.value);\n          console.log(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        // type=\"password\" \n        id: \"password-input\",\n        name: \"password-input\",\n        placeholder: \"Password\",\n        onChange: event => {\n          setInputPassword(event.target.value);\n          console.log(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => {\n        login();\n      },\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"login-message\",\n      children: loginMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"YB99W08ZxvazYxEDjf7tuHTUwIk=\");\n\n_c = Login;\nexport default Login;\n/*  <input \n      placeholder='Enter a todo' \n      value={Todo}\n      onChange={(event) => {\n          let value = event.target.value\n          setTodo(value)\n      }}/>\n    <button type='submit'>Submit</button>*/\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Login.js"],"names":["React","useState","useEffect","axios","BASE_URL","Login","currentUser","setCurrentUser","inputUsername","setInputUsername","inputPassword","setInputPassword","loginMessage","setLoginMessage","login","inputUser","username","password","response","post","data","console","log","localStorage","setItem","token","success","error","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\n\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Login = ({currentUser, setCurrentUser}) => {\n    let [inputUsername, setInputUsername] = useState('');\n    let [inputPassword, setInputPassword] = useState('');\n    let [loginMessage, setLoginMessage] = useState('');\n\n    useEffect (() =>{\n        loginMessage=\"You are now logged in as \" + currentUser;\n\n    }, [currentUser])\n\n    async function login () {\n        let inputUser = {username: inputUsername, password: inputPassword}\n\n        try {\n            let response = (await axios.post(BASE_URL+'/users/login', inputUser)).data;\n            console.log(response)\n            localStorage.setItem('currentUserToken', response.token)\n            \n            if (response.success) {\n                setCurrentUser(inputUser.username);\n                \n\n            } else {\n                localStorage.setItem('currentUser', currentUser);\n                setLoginMessage(\"You are now logged in as \" + currentUser)\n            }\n            // currentUser = inputUser.username;\n            // setCurrentUser(currentUser)\n\n            // localStorage.setItem('currentUser', currentUser);\n            // setLoginMessage(\"You are now logged in as \" + currentUser)\n\n\n        } catch (error) {\n            setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n        }\n    }\n\n    return(\n        <>\n    <h1>Please enter your  username and password</h1>\n            <div>\n                <label htmlFor=\"username-input\"></label>\n                <input \n                    type=\"text\" \n                    id=\"username-input\"\n                    name=\"username-input\" \n                    placeholder=\"Username\"\n                    onChange={(event) => {\n                        setInputUsername(event.target.value);\n                        console.log(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <div>\n                <label htmlFor=\"password-input\"></label>\n                <input \n                    // type=\"password\" \n                    id=\"password-input\"\n                    name=\"password-input\" \n                    placeholder=\"Password\"\n                    onChange={(event) =>{\n                        setInputPassword(event.target.value);\n                        console.log(event.target.value);\n                        \n                    }}\n                    ></input>\n            </div>\n            <button type='submit'\n            onClick={() => {\n                login();\n            }}>Submit</button>\n        <div id=\"login-message\">{loginMessage}</div>\n        </>\n    )\n}\n\nexport default Login\n\n/*  <input \n      placeholder='Enter a todo' \n      value={Todo}\n      onChange={(event) => {\n          let value = event.target.value\n          setTodo(value)\n      }}/>\n    <button type='submit'>Submit</button>*/"]},"metadata":{},"sourceType":"module"}