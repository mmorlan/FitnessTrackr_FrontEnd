{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Register = ({\n  currentUser,\n  setCurrentUser\n}) => {\n  _s();\n\n  let [newUsername, setNewUsername] = useState('');\n  let [newPassword, setNewPassword] = useState('');\n  let [message, setMessage] = useState('');\n\n  async function register() {\n    let newUser = {\n      sername,\n      newPassword\n    };\n\n    try {\n      let response = (await axios.post(BASE_URL + '/users/register', newUser)).data;\n      localStorage.setItem('currentUserToken', response.data.token);\n      localStorage.setItem('currentUser', newUsername);\n\n      if (response.success) {\n        setCurrentUser(newUser.username);\n      } else {\n        setMessage(response.message);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please enter your new username and password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: event => {\n        event.preventDefault();\n        register();\n      },\n      children: currentUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"You are currently logged in as \", currentUser]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"username-input\",\n            name: \"username-input\",\n            placeholder: \"Username\",\n            onChange: event => {\n              setNewUsername(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password-input\",\n            name: \"password-input\",\n            placeholder: \"Password\",\n            onChange: event => {\n              setNewPassword(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Register, \"LGOOFQhVyl+dP/weCOfssKq5Kqg=\");\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Register.js"],"names":["React","useState","axios","BASE_URL","Register","currentUser","setCurrentUser","newUsername","setNewUsername","newPassword","setNewPassword","message","setMessage","register","newUser","sername","response","post","data","localStorage","setItem","token","success","username","error","console","event","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Register = ({currentUser, setCurrentUser}) => {\n    let [newUsername, setNewUsername] = useState('')\n    let [newPassword, setNewPassword] = useState('')\n    let [message, setMessage] = useState('');\n\n    async function register() {\n        let newUser = {sername, newPassword}\n\n        try {\n            let response = (await axios.post(BASE_URL+'/users/register', newUser)).data;\n            localStorage.setItem('currentUserToken', response.data.token)\n            localStorage.setItem('currentUser', newUsername)\n\n            if (response.success) {\n                setCurrentUser(newUser.username);\n            } else {\n                setMessage(response.message)\n            }\n        } catch (error) {\n            console.error(error);\n        }\n\n    }\n\n    return(\n        <>\n    <h1>Please enter your new username and password</h1>\n    <form onSubmit={(event) => {\n            event.preventDefault();\n            register()\n            \n        }}>{ currentUser ? \n                <> <h1>You are currently logged in as {currentUser}</h1></> \n                :    \n            <><div>\n                <label htmlFor=\"username-input\"></label>\n                <input \n                    type=\"text\" \n                    id=\"username-input\"\n                    name=\"username-input\" \n                    placeholder=\"Username\"\n                    onChange={(event) => {\n                        setNewUsername(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <div>\n                <label htmlFor=\"password-input\"></label>\n                <input \n                    type=\"password\" \n                    id=\"password-input\"\n                    name=\"password-input\" \n                    placeholder=\"Password\"\n                    onChange={(event) => {\n                        setNewPassword(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <button type='submit'>Submit</button>\n            </>\n                }\n        </form>\n        <p>{message}</p>\n        </>\n    )\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}