{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './routines.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = ({\n  currentUser,\n  searchTerm\n}) => {\n  _s();\n\n  const [routines, setRoutines] = useState([]);\n\n  async function getRoutines() {\n    let data = (await axios.get(BASE_URL + '/routines')).data;\n    return data.routines;\n  }\n\n  useEffect(async () => {\n    setRoutines(await getRoutines());\n  }, []); // useEffect ( () => {\n\n  const routineMatches = function (routine, term) {\n    if (routine.title.includes(term) || routine.description.includes(term) || routine.price.includes(term) || routine.author.username.includes(term)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const filteredroutines = routines.filter(routine => routineMatches(routine, searchTerm));\n  const routinesToDisplay = searchTerm.length ? filteredRoutines : routines; // }, [])\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: localStorage.getItem('currentUser') ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: routinesToDisplay.map(routine => {\n        return /*#__PURE__*/_jsxDEV(UserRoutine, {\n          title: routine.title,\n          description: routine.description,\n          price: routine.price,\n          seller: routine.author.username,\n          location: routine.location,\n          deliverable: routine.willDeliver,\n          currentUser: localStorage.getItem('currentUser'),\n          id: routine._id\n        }, routine._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 24\n        }, this);\n      })\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: postsToDisplay.map(post => {\n        return /*#__PURE__*/_jsxDEV(UserRoutine, {\n          title: post.title,\n          description: post.description,\n          price: post.price,\n          seller: post.author.username,\n          location: post.location,\n          deliverable: post.willDeliver,\n          currentUser: localStorage.getItem('currentUser')\n        }, post._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 24\n        }, this);\n      })\n    }, void 0, false)\n  }, void 0, false);\n};\n\n_s(Home, \"Fi33NERAyThe7noKpurykKK5o+c=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Home.js"],"names":["React","useState","useEffect","axios","Home","currentUser","searchTerm","routines","setRoutines","getRoutines","data","get","BASE_URL","routineMatches","routine","term","title","includes","description","price","author","username","filteredroutines","filter","routinesToDisplay","length","filteredRoutines","localStorage","getItem","map","location","willDeliver","_id","postsToDisplay","post"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,gBAAP;;;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAcC,EAAAA;AAAd,CAAD,KAA+B;AAAA;;AAExC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;;AAEA,iBAAeQ,WAAf,GAA6B;AACzB,QAAIC,IAAI,GAAG,CAAC,MAAMP,KAAK,CAACQ,GAAN,CAAUC,QAAQ,GAAG,WAArB,CAAP,EAA0CF,IAArD;AACA,WAAOA,IAAI,CAACH,QAAZ;AACH;;AAEDL,EAAAA,SAAS,CAAG,YAAW;AACnBM,IAAAA,WAAW,CAAC,MAAMC,WAAW,EAAlB,CAAX;AACH,GAFQ,EAEN,EAFM,CAAT,CATwC,CAaxC;;AAEI,QAAMI,cAAc,GAAG,UAASC,OAAT,EAAkBC,IAAlB,EAAwB;AAC3C,QAAID,OAAO,CAACE,KAAR,CAAcC,QAAd,CAAuBF,IAAvB,KAAgCD,OAAO,CAACI,WAAR,CAAoBD,QAApB,CAA6BF,IAA7B,CAAhC,IACAD,OAAO,CAACK,KAAR,CAAcF,QAAd,CAAuBF,IAAvB,CADA,IACgCD,OAAO,CAACM,MAAR,CAAeC,QAAf,CAAwBJ,QAAxB,CAAiCF,IAAjC,CADpC,EAC2E;AACnE,aAAO,IAAP;AACH,KAHL,MAGW;AACH,aAAO,KAAP;AACH;AACR,GAPD;;AASA,QAAMO,gBAAgB,GAAGf,QAAQ,CAACgB,MAAT,CAAgBT,OAAO,IAAID,cAAc,CAACC,OAAD,EAAUR,UAAV,CAAzC,CAAzB;AACA,QAAMkB,iBAAiB,GAAGlB,UAAU,CAACmB,MAAX,GAAoBC,gBAApB,GAAuCnB,QAAjE,CAzBoC,CA0BxC;;AAEA,sBAAO;AAAA,cACLoB,YAAY,CAACC,OAAb,CAAqB,aAArB,iBACE;AAAA,gBACKJ,iBAAiB,CAACK,GAAlB,CAAwBf,OAAD,IAAa;AACjC,4BAAO,QAAC,WAAD;AACH,UAAA,KAAK,EAAEA,OAAO,CAACE,KADZ;AAEH,UAAA,WAAW,EAAEF,OAAO,CAACI,WAFlB;AAGH,UAAA,KAAK,EAAEJ,OAAO,CAACK,KAHZ;AAIH,UAAA,MAAM,EAAEL,OAAO,CAACM,MAAR,CAAeC,QAJpB;AAKH,UAAA,QAAQ,EAAEP,OAAO,CAACgB,QALf;AAMH,UAAA,WAAW,EAAEhB,OAAO,CAACiB,WANlB;AAOH,UAAA,WAAW,EAAEJ,YAAY,CAACC,OAAb,CAAqB,aAArB,CAPV;AASH,UAAA,EAAE,EAAEd,OAAO,CAACkB;AATT,WAQElB,OAAO,CAACkB,GARV;AAAA;AAAA;AAAA;AAAA,gBAAP;AAUG,OAXN;AADL,qBADF,gBAgBE;AAAA,gBACKC,cAAc,CAACJ,GAAf,CAAqBK,IAAD,IAAU;AAC3B,4BAAO,QAAC,WAAD;AACH,UAAA,KAAK,EAAEA,IAAI,CAAClB,KADT;AAEH,UAAA,WAAW,EAAEkB,IAAI,CAAChB,WAFf;AAGH,UAAA,KAAK,EAAEgB,IAAI,CAACf,KAHT;AAIH,UAAA,MAAM,EAAEe,IAAI,CAACd,MAAL,CAAYC,QAJjB;AAKH,UAAA,QAAQ,EAAEa,IAAI,CAACJ,QALZ;AAMH,UAAA,WAAW,EAAEI,IAAI,CAACH,WANf;AAOH,UAAA,WAAW,EAAEJ,YAAY,CAACC,OAAb,CAAqB,aAArB;AAPV,WAQEM,IAAI,CAACF,GARP;AAAA;AAAA;AAAA;AAAA,gBAAP;AASG,OAVN;AADL;AAjBG,mBAAP;AAkCH,CA9DD;;GAAM5B,I;;KAAAA,I;AAgEN,eAAeA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport './routines.css'\n\nconst Home = ({currentUser, searchTerm}) => {\n\n    const [routines, setRoutines] = useState([]);\n\n    async function getRoutines() {\n        let data = (await axios.get(BASE_URL + '/routines')).data\n        return data.routines;\n    }\n\n    useEffect ( async () =>{\n        setRoutines(await getRoutines());\n    }, [])\n\n    // useEffect ( () => {\n\n        const routineMatches = function(routine, term) {\n            if (routine.title.includes(term) || routine.description.includes(term) ||\n                routine.price.includes(term) || routine.author.username.includes(term)){\n                    return true;\n                } else {\n                    return false;\n                }\n        }\n\n        const filteredroutines = routines.filter(routine => routineMatches(routine, searchTerm));\n        const routinesToDisplay = searchTerm.length ? filteredRoutines : routines;\n    // }, [])\n\n    return <>\n    { localStorage.getItem('currentUser') ? \n        <>\n            {routinesToDisplay.map( (routine) => {\n                return <UserRoutine\n                    title={routine.title}\n                    description={routine.description}\n                    price={routine.price}\n                    seller={routine.author.username}\n                    location={routine.location}\n                    deliverable={routine.willDeliver}\n                    currentUser={localStorage.getItem('currentUser')}\n                    key={routine._id}\n                    id={routine._id}\n                />})\n            }\n        </> :\n        <>\n            {postsToDisplay.map( (post) => {\n                return <UserRoutine\n                    title={post.title}\n                    description={post.description}\n                    price={post.price}\n                    seller={post.author.username}\n                    location={post.location}\n                    deliverable={post.willDeliver}\n                    currentUser={localStorage.getItem('currentUser')}\n                    key={post._id}\n                />})\n            }\n        </>\n    }\n    </>\n\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}