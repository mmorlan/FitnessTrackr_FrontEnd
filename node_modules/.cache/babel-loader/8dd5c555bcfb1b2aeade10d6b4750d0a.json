{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Login = () => {\n  _s();\n\n  let [inputUsername, setInputUsername] = useState('');\n  let [inputPassword, setInputPassword] = useState('');\n  let [loginMessage, setLoginMessage] = useState('');\n  let [currentUser, setCurrentUser] = useState('');\n\n  async function login() {\n    let inputUser = {\n      username: inputUsername,\n      password: inputPassword\n    };\n\n    try {\n      let response = (await axios.post(BASE_URL + '/users/login', inputUser)).data;\n      localStorage.setItem('currentUserToken', response.token);\n      console.log(response);\n      console.log(response.user.username);\n      setCurrentUser(response.user.username);\n      console.log(currentUser);\n      localStorage.setItem('currentUser', currentUser);\n      setLoginMessage(\"You are now logged in as \" + response.user.username);\n    } catch (error) {\n      setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [current, /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please enter your  username and password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"username-input\",\n        name: \"username-input\",\n        placeholder: \"Username\",\n        onChange: event => {\n          setInputUsername(event.target.value);\n          console.log(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        // type=\"password\" \n        id: \"password-input\",\n        name: \"password-input\",\n        placeholder: \"Password\",\n        onChange: event => {\n          setInputPassword(event.target.value);\n          console.log(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => {\n        login();\n      },\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: loginMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"wtzqaUH7jQ6yLSJ8LePIAKl5JD0=\");\n\n_c = Login;\nexport default Login;\n/*  <input \n      placeholder='Enter a todo' \n      value={Todo}\n      onChange={(event) => {\n          let value = event.target.value\n          setTodo(value)\n      }}/>\n    <button type='submit'>Submit</button>*/\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Login.js"],"names":["React","useState","useEffect","axios","BASE_URL","Login","inputUsername","setInputUsername","inputPassword","setInputPassword","loginMessage","setLoginMessage","currentUser","setCurrentUser","login","inputUser","username","password","response","post","data","localStorage","setItem","token","console","log","user","error","current","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\n\n\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Login = () => {\n    let [inputUsername, setInputUsername] = useState('');\n    let [inputPassword, setInputPassword] = useState('');\n    let [loginMessage, setLoginMessage] = useState('');\n    let [currentUser, setCurrentUser] = useState('');\n\n    async function login () {\n        let inputUser = {username: inputUsername, password: inputPassword}\n\n        try {\n            let response = (await axios.post(BASE_URL+'/users/login', inputUser)).data;\n            localStorage.setItem('currentUserToken', response.token)\n            console.log(response)\n            console.log(response.user.username)\n            \n            setCurrentUser(response.user.username)\n            console.log(currentUser)\n\n            localStorage.setItem('currentUser', currentUser);\n            setLoginMessage(\"You are now logged in as \" + response.user.username)\n\n        } catch (error) {\n            setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n        }\n    }\n\n    return(\n        <>\n        {current}\n    <h1>Please enter your  username and password</h1>\n            <div>\n                <label htmlFor=\"username-input\"></label>\n                <input \n                    type=\"text\" \n                    id=\"username-input\"\n                    name=\"username-input\" \n                    placeholder=\"Username\"\n                    onChange={(event) => {\n                        setInputUsername(event.target.value);\n                        console.log(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <div>\n                <label htmlFor=\"password-input\"></label>\n                <input \n                    // type=\"password\" \n                    id=\"password-input\"\n                    name=\"password-input\" \n                    placeholder=\"Password\"\n                    onChange={(event) =>{\n                        setInputPassword(event.target.value);\n                        console.log(event.target.value);\n                        \n                    }}\n                    ></input>\n            </div>\n            <button type='submit'\n            onClick={() => {\n                login();\n            }}>Submit</button>\n        <p>{loginMessage}</p>\n        </>\n    )\n}\n\nexport default Login\n\n/*  <input \n      placeholder='Enter a todo' \n      value={Todo}\n      onChange={(event) => {\n          let value = event.target.value\n          setTodo(value)\n      }}/>\n    <button type='submit'>Submit</button>*/"]},"metadata":{},"sourceType":"module"}