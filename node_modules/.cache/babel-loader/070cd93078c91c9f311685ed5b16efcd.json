{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/MyRoutines.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './myposts.css';\nimport axios from 'axios';\nimport UserPost from './UserPost';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'https://strangers-things.herokuapp.com/api/2104-uic-rm-web-ft';\n\nconst MyPosts = ({\n  currentUser\n}) => {\n  _s();\n\n  if (currentUser === '') {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please login.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }, this);\n  }\n\n  const [posts, setPosts] = useState([]);\n\n  async function getPosts() {\n    let data = (await axios.get(BASE_URL + '/posts')).data;\n    return data.data.posts;\n  }\n\n  useEffect(async () => {\n    setPosts(await getPosts());\n  }, []);\n\n  const postMatches = function (post, term) {\n    if (post.author.username.includes(term)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const filteredPosts = posts.filter(post => postMatches(post, localStorage.getItem('currentUser')));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: filteredPosts.map(post => {\n      return /*#__PURE__*/_jsxDEV(UserPost, {\n        title: post.title,\n        description: post.description,\n        price: post.price,\n        seller: post.author.username,\n        location: post.location,\n        deliverable: post.willDeliver,\n        currentUser: currentUser,\n        id: post._id\n      }, post._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 16\n      }, this);\n    })\n  }, void 0, false);\n};\n\n_s(MyPosts, \"bG8V4duoIfO0BEPgauWMVT5Qvyw=\");\n\n_c = MyPosts;\nexport default MyPosts;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyPosts\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/MyRoutines.js"],"names":["React","useState","useEffect","axios","UserPost","BASE_URL","MyPosts","currentUser","posts","setPosts","getPosts","data","get","postMatches","post","term","author","username","includes","filteredPosts","filter","localStorage","getItem","map","title","description","price","location","willDeliver","_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;;;AAEA,MAAMC,QAAQ,GAAG,+DAAjB;;AAGA,MAAMC,OAAO,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmB;AAAA;;AAC/B,MAAIA,WAAW,KAAK,EAApB,EAAwB;AACxB,wBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR;AACC;;AAED,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;;AAEA,iBAAeS,QAAf,GAA0B;AACtB,QAAIC,IAAI,GAAG,CAAC,MAAMR,KAAK,CAACS,GAAN,CAAUP,QAAQ,GAAG,QAArB,CAAP,EAAuCM,IAAlD;AACA,WAAOA,IAAI,CAACA,IAAL,CAAUH,KAAjB;AACH;;AAEDN,EAAAA,SAAS,CAAG,YAAW;AACnBO,IAAAA,QAAQ,CAAC,MAAMC,QAAQ,EAAf,CAAR;AACH,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMG,WAAW,GAAG,UAASC,IAAT,EAAeC,IAAf,EAAqB;AACrC,QAAID,IAAI,CAACE,MAAL,CAAYC,QAAZ,CAAqBC,QAArB,CAA8BH,IAA9B,CAAJ,EAAwC;AAChC,aAAO,IAAP;AACH,KAFL,MAEW;AACH,aAAO,KAAP;AACH;AACR,GAND;;AAQA,QAAMI,aAAa,GAAGX,KAAK,CAACY,MAAN,CAAaN,IAAI,IAAID,WAAW,CAACC,IAAD,EAAOO,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAP,CAAhC,CAAtB;AAEA,sBAAO;AAAA,cACNH,aAAa,CAACI,GAAd,CAAoBT,IAAD,IAAU;AAC1B,0BAAO,QAAC,QAAD;AACH,QAAA,KAAK,EAAEA,IAAI,CAACU,KADT;AAEH,QAAA,WAAW,EAAEV,IAAI,CAACW,WAFf;AAGH,QAAA,KAAK,EAAEX,IAAI,CAACY,KAHT;AAIH,QAAA,MAAM,EAAEZ,IAAI,CAACE,MAAL,CAAYC,QAJjB;AAKH,QAAA,QAAQ,EAAEH,IAAI,CAACa,QALZ;AAMH,QAAA,WAAW,EAAEb,IAAI,CAACc,WANf;AAOH,QAAA,WAAW,EAAErB,WAPV;AASH,QAAA,EAAE,EAAEO,IAAI,CAACe;AATN,SAQEf,IAAI,CAACe,GARP;AAAA;AAAA;AAAA;AAAA,cAAP;AAUG,KAXN;AADM,mBAAP;AAgBH,CA1CD;;GAAMvB,O;;KAAAA,O;AA4CN,eAAeA,OAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport './myposts.css';\nimport axios from 'axios';\nimport UserPost from './UserPost';\n\nconst BASE_URL = 'https://strangers-things.herokuapp.com/api/2104-uic-rm-web-ft';\n\n\nconst MyPosts = ({currentUser}) => {\n    if (currentUser === '') {\n    return (<h1>Please login.</h1>)\n    } \n\n    const [posts, setPosts] = useState([]);\n\n    async function getPosts() {\n        let data = (await axios.get(BASE_URL + '/posts')).data\n        return data.data.posts;\n    }\n\n    useEffect ( async () =>{\n        setPosts(await getPosts());\n    }, [])\n\n    const postMatches = function(post, term) {\n        if (post.author.username.includes(term)){\n                return true;\n            } else {\n                return false;\n            }\n    }\n\n    const filteredPosts = posts.filter(post => postMatches(post, localStorage.getItem('currentUser')));\n\n    return <>\n    {filteredPosts.map( (post) => {\n        return <UserPost\n            title={post.title}\n            description={post.description}\n            price={post.price}\n            seller={post.author.username}\n            location={post.location}\n            deliverable={post.willDeliver}\n            currentUser={currentUser}\n            key={post._id}\n            id={post._id}\n        />})\n    }\n</>\n    \n}\n\nexport default MyPosts;"]},"metadata":{},"sourceType":"module"}