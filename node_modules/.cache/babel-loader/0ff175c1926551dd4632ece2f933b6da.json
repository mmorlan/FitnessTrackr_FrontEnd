{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Register = () => {\n  _s();\n\n  let [newUsername, setNewUsername] = useState('');\n  let [newPassword, setNewPassword] = useState('');\n  let [currentUser, setCurrentUser] = useState('');\n  let [message, setMessage] = useState('');\n  let [errorMessage, setErrorMessage] = useState('');\n\n  async function register() {\n    let newUser = {\n      username: newUsername,\n      password: newPassword\n    };\n\n    try {\n      let response = (await axios.post(BASE_URL + '/users/register', newUser)).data;\n      console.log(response);\n      localStorage.setItem('currentUserToken', response.token);\n      localStorage.setItem('currentUser', newUsername);\n      setCurrentUser(newUser.username);\n      setMessage(\"You are currently logged in as \" + currentUser);\n    } catch (error) {\n      console.error(error);\n      console.log(\"invalid entry\");\n      setErrorMessage(\"Invalid username and password combination. Please try again.\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !currentUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Please enter your new username and password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => {\n          event.preventDefault();\n          register();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"username-input\",\n            name: \"username-input\",\n            placeholder: \"Username\",\n            onChange: event => {\n              setNewUsername(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            // type=\"password\" \n            id: \"password-input\",\n            name: \"password-input\",\n            placeholder: \"Password\",\n            onChange: event => {\n              setNewPassword(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Register, \"a+jkmIIvjnc1Fu2rJlIZ3ui+0+k=\");\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Register.js"],"names":["React","useState","axios","BASE_URL","Register","newUsername","setNewUsername","newPassword","setNewPassword","currentUser","setCurrentUser","message","setMessage","errorMessage","setErrorMessage","register","newUser","username","password","response","post","data","console","log","localStorage","setItem","token","error","event","preventDefault","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,QAAQ,GAAG,yCAAjB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACnB,MAAI,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,EAAD,CAA5C;AACA,MAAI,CAACM,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,EAAD,CAA5C;AACA,MAAI,CAACQ,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,EAAD,CAA5C;AACA,MAAI,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAApC;AACA,MAAI,CAACY,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC,EAAD,CAA9C;;AAEA,iBAAec,QAAf,GAA0B;AACtB,QAAIC,OAAO,GAAG;AAACC,MAAAA,QAAQ,EAAEZ,WAAX;AAAwBa,MAAAA,QAAQ,EAAEX;AAAlC,KAAd;;AAEA,QAAI;AACA,UAAIY,QAAQ,GAAG,CAAC,MAAMjB,KAAK,CAACkB,IAAN,CAAWjB,QAAQ,GAAC,iBAApB,EAAuCa,OAAvC,CAAP,EAAwDK,IAAvE;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCN,QAAQ,CAACO,KAAlD;AAEAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCpB,WAApC;AACAK,MAAAA,cAAc,CAACM,OAAO,CAACC,QAAT,CAAd;AACAL,MAAAA,UAAU,CAAC,oCAAoCH,WAArC,CAAV;AAEH,KATD,CASE,OAAOkB,KAAP,EAAc;AACZL,MAAAA,OAAO,CAACK,KAAR,CAAcA,KAAd;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAT,MAAAA,eAAe,CAAC,8DAAD,CAAf;AAEH;AAEJ;;AAED,sBACI;AAAA,cACM,CAACL,WAAD,gBACF;AAAA,8BACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADQ,eAER;AAAM,QAAA,QAAQ,EAAGmB,KAAD,IAAW;AACnBA,UAAAA,KAAK,CAACC,cAAN;AACAd,UAAAA,QAAQ;AAEX,SAJL;AAAA,gCAKQ;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACI,YAAA,IAAI,EAAC,MADT;AAEI,YAAA,EAAE,EAAC,gBAFP;AAGI,YAAA,IAAI,EAAC,gBAHT;AAII,YAAA,WAAW,EAAC,UAJhB;AAKI,YAAA,QAAQ,EAAGa,KAAD,IAAW;AACjBtB,cAAAA,cAAc,CAACsB,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAd;AACH;AAPL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALR,eAiBQ;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACI;AACA,YAAA,EAAE,EAAC,gBAFP;AAGI,YAAA,IAAI,EAAC,gBAHT;AAII,YAAA,WAAW,EAAC,UAJhB;AAKI,YAAA,QAAQ,EAAGH,KAAD,IAAW;AACjBpB,cAAAA,cAAc,CAACoB,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAd;AACH;AAPL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBR,eA6BQ;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7BR;AAAA;AAAA;AAAA;AAAA;AAAA,cAFQ;AAAA,oBADE,gBAmCA;AAAA,6BAAE;AAAA,kBAAKpB;AAAL;AAAA;AAAA;AAAA;AAAA;AAAF;AApCN;AAAA;AAAA;AAAA;AAAA,UADJ;AAwCH,CApED;;GAAMP,Q;;KAAAA,Q;AAsEN,eAAeA,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Register = () => {\n    let [newUsername, setNewUsername] = useState('')\n    let [newPassword, setNewPassword] = useState('')\n    let [currentUser, setCurrentUser] = useState('');\n    let [message, setMessage] = useState('');\n    let [errorMessage, setErrorMessage] = useState('');\n\n    async function register() {\n        let newUser = {username: newUsername, password: newPassword}\n\n        try {\n            let response = (await axios.post(BASE_URL+'/users/register', newUser)).data;\n            console.log(response)\n            localStorage.setItem('currentUserToken', response.token)\n    \n            localStorage.setItem('currentUser', newUsername)\n            setCurrentUser(newUser.username);\n            setMessage(\"You are currently logged in as \" + currentUser)\n         \n        } catch (error) {\n            console.error(error);\n            console.log(\"invalid entry\")\n            setErrorMessage(\"Invalid username and password combination. Please try again.\");\n\n        }\n\n    }\n\n    return(\n        <div>\n            { !currentUser ? \n            <>\n    <h1>Please enter your new username and password</h1>\n    <form onSubmit={(event) => {\n            event.preventDefault();\n            register()\n            \n        }}>  \n            <div>\n                <label htmlFor=\"username-input\"></label>\n                <input \n                    type=\"text\" \n                    id=\"username-input\"\n                    name=\"username-input\" \n                    placeholder=\"Username\"\n                    onChange={(event) => {\n                        setNewUsername(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <div>\n                <label htmlFor=\"password-input\"></label>\n                <input \n                    // type=\"password\" \n                    id=\"password-input\"\n                    name=\"password-input\" \n                    placeholder=\"Password\"\n                    onChange={(event) => {\n                        setNewPassword(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <button type='submit'>Submit</button>\n        </form>\n        \n        </> : <><h1>{message}</h1></> }\n        </div>\n    )\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}