{"ast":null,"code":"var _jsxFileName = \"/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Login = ({\n  currentUser,\n  setCurrentUser\n}) => {\n  _s();\n\n  let [inputUsername, setInputUsername] = useState('');\n  let [inputPassword, setInputPassword] = useState('');\n  let [loginMessage, setLoginMessage] = useState('');\n\n  async function login() {\n    let inputUser = {\n      username: inputUsername,\n      password: inputPassword\n    };\n\n    try {\n      let response = (await axios.post(BASE_URL + '/users/login', inputUser)).data;\n      localStorage.setItem('currentUserToken', response.token);\n      console.log(response);\n      console.log(response.user.username);\n      setCurrentUser(response.user.username);\n      localStorage.setItem('currentUser', currentUser);\n      setLoginMessage(\"You are now logged in as \" + response.user.username);\n    } catch (error) {\n      setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !currentUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Please enter your  username and password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username-input\",\n          name: \"username-input\",\n          placeholder: \"Username\",\n          onChange: event => {\n            setInputUsername(event.target.value);\n            console.log(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          // type=\"password\" \n          id: \"password-input\",\n          name: \"password-input\",\n          placeholder: \"Password\",\n          onChange: event => {\n            setInputPassword(event.target.value);\n            console.log(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: () => {\n          login();\n        },\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: loginMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: loginMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"imr9TszBdefwwq+fgk7hF4w27Qg=\");\n\n_c = Login;\nexport default Login;\n/*  <input \n      placeholder='Enter a todo' \n      value={Todo}\n      onChange={(event) => {\n          let value = event.target.value\n          setTodo(value)\n      }}/>\n    <button type='submit'>Submit</button>*/\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/mattrmorlan/UIC/course-work/FitnessTrackr_FrontEnd/src/components/Login.js"],"names":["React","useState","useEffect","axios","BASE_URL","Login","currentUser","setCurrentUser","inputUsername","setInputUsername","inputPassword","setInputPassword","loginMessage","setLoginMessage","login","inputUser","username","password","response","post","data","localStorage","setItem","token","console","log","user","error","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\n\n\nconst BASE_URL = 'http://fitnesstrac-kr.herokuapp.com/api';\n\nconst Login = ({currentUser, setCurrentUser}) => {\n    let [inputUsername, setInputUsername] = useState('');\n    let [inputPassword, setInputPassword] = useState('');\n    let [loginMessage, setLoginMessage] = useState('');\n\n    async function login () {\n        let inputUser = {username: inputUsername, password: inputPassword}\n\n        try {\n            let response = (await axios.post(BASE_URL+'/users/login', inputUser)).data;\n            localStorage.setItem('currentUserToken', response.token)\n            console.log(response)\n            console.log(response.user.username)\n            \n            setCurrentUser(response.user.username)\n            \n            localStorage.setItem('currentUser', currentUser);\n\n            setLoginMessage(\"You are now logged in as \" + response.user.username)\n\n        } catch (error) {\n            setLoginMessage(\"Sorry, we do not recognize that username and password combination\");\n        }\n    }\n\n    return(\n        <div>\n       {!currentUser ? <>\n    <h1>Please enter your  username and password</h1>\n            <div>\n                <label htmlFor=\"username-input\"></label>\n                <input \n                    type=\"text\" \n                    id=\"username-input\"\n                    name=\"username-input\" \n                    placeholder=\"Username\"\n                    onChange={(event) => {\n                        setInputUsername(event.target.value);\n                        console.log(event.target.value)\n                    }}\n                    ></input>\n            </div>\n            <div>\n                <label htmlFor=\"password-input\"></label>\n                <input \n                    // type=\"password\" \n                    id=\"password-input\"\n                    name=\"password-input\" \n                    placeholder=\"Password\"\n                    onChange={(event) =>{\n                        setInputPassword(event.target.value);\n                        console.log(event.target.value);\n                        \n                    }}\n                    ></input>\n            </div>\n            <button type='submit'\n            onClick={() => {\n                login();\n            }}>Submit</button>\n        <p>{loginMessage}</p>\n        </> : <><p>{loginMessage}</p></> }\n        </div>\n    )\n}\n\nexport default Login\n\n/*  <input \n      placeholder='Enter a todo' \n      value={Todo}\n      onChange={(event) => {\n          let value = event.target.value\n          setTodo(value)\n      }}/>\n    <button type='submit'>Submit</button>*/"]},"metadata":{},"sourceType":"module"}